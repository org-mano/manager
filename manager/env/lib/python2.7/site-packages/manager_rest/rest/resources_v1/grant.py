from flask_restful_swagger import swagger

from manager_rest import get_version_data
from manager_rest.rest import responses
from manager_rest.rest.rest_decorators import (
    exceptions_handled,
    marshal_with,
)
from manager_rest.security import SecuredResourceSkipTenantAuth

import logging
logging.basicConfig(level=logging.DEBUG,
                format='%(asctime)s %(filename)s[line:%(lineno)d] %(levelname)s %(message)s',
                datefmt='%H:%M:%S',
                filename='/var/log/rest_api.log',
                filemode='a')

from flask_restful import Resource

#class Grant(SecuredResourceSkipTenantAuth):
class Grant(Resource):

    @swagger.operation(
        responseClass=responses.Grant,
        nickname="grant",
        notes="Returns Grant Lifecycle"
    )
    @exceptions_handled
    @marshal_with(responses.Grant)
    def put(self, **kwargs):
        logging.info('call grant PUT')
        return {'vimid': '12345678', 'tenant':'tenant1'}
